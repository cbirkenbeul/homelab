version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: skke15.hj0wzfb52xm7rgxm
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQakNCOGFBREFnRUNBaEJLeWxxR3RESnh1Q3B5aUVkblNnZmpNQVVHQXl0bGNEQVFNUTR3REFZRFZRUUsKRXdWMFlXeHZjekFlRncweU5EQTVNalF4TnpJMU1USmFGdzB6TkRBNU1qSXhOekkxTVRKYU1CQXhEakFNQmdOVgpCQW9UQlhSaGJHOXpNQ293QlFZREsyVndBeUVBRE9Rd3h6Z3RocDEwY2pTZmczcnd5OXVTcjhMZitVdUZVU0pYCkN4cmdHOEtqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUkKS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVUUFtLys0TFAxeTYvcXdwZApwWFVZZWVIMGFjUXdCUVlESzJWd0EwRUFlU1RWVWNHdjZYeU1ta2d4bC9hM3lWMTdnZGNzR2pvOS8zY0txcklCCkhYY29VUGRPZ2JzVFVqZHQzaHREd3BhTmpaZVc2eFZsQ0FkYmpRMnZNMngvQnc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0KTUM0Q0FRQXdCUVlESzJWd0JDSUVJTzZMNFNxMW9FMFpKaEI5c3VwUjBJYzEvaWo2Rk9GT0toT3NoVjg5ZVJIcQotLS0tLUVORCBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0K
  certSANs:
    - 192.168.10.30
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.32.1
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.10.0/24
    disableManifestsDirectory: true
  network:
    hostname: k3s-01
    interfaces:
      - deviceSelector:
          hardwareAddr: a4:bb:6d:80:46:44
        dhcp: true
        dhcpOptions:
          routeMetric: 0
          ipv6: false
        vip:
          ip: 192.168.10.30
    disableSearchDomain: true
  install:
    disk: /dev/sda
    image: factory.talos.dev/installer/376567988ad370138ad8b2698212367b8edcb69b5fd68c80be1f2ec7d603b4ba:v1.9.2
    wipe: false
  files:
    - content: |
        [plugins."io.containerd.grpc.v1.cri"]
          enable_unprivileged_ports = true
          enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0o0
      path: /etc/cri/conf.d/20-customization.part
      op: create
    - content: |
        [ NFSMount_Global_Options ]
          nfsvers = 4.2
          hard = True
          noatime = True
          nodiratime = True
          rsize = 131072
          wsize = 131072
          nconnect = 8
      permissions: 0o644
      path: /etc/nfsmount.conf
      op: overwrite
  time:
    disabled: false
    servers:
      - 162.159.200.1
      - 162.159.200.123
  sysctls:
    fs.inotify.max_queued_events: "65536"
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "524288"
    net.core.rmem_max: "2500000"
    net.core.wmem_max: "2500000"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - kube-tools
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: true
      resolveMemberNames: true
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
cluster:
  id: 41H5EyiUqTuXg-rWCYFMQU_OdTZV2qSKIBK-Wb1A-Ns=
  secret: Q8iJxJrpAPTysOBPATLVTtaDCPvql2jPPV5aVBB1TyM=
  controlPlane:
    endpoint: https://192.168.10.30:6443
  clusterName: teqqKube
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.42.0.0/16
    serviceSubnets:
      - 10.43.0.0/16
  token: phwp6v.vcyqxfeu1h3647sd
  secretboxEncryptionSecret: Qr9NE5aXi+ymCvxVlw7yt4f/C+zvTqiTfyNm/bP+h9s=
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpakNDQVRDZ0F3SUJBZ0lSQUl2c2RieHFtbDlMREZmN20xbzFUNUF3Q2dZSUtvWkl6ajBFQXdJd0ZURVQKTUJFR0ExVUVDaE1LYTNWaVpYSnVaWFJsY3pBZUZ3MHlOREE1TWpReE56STFNVEphRncwek5EQTVNakl4TnpJMQpNVEphTUJVeEV6QVJCZ05WQkFvVENtdDFZbVZ5Ym1WMFpYTXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CCkJ3TkNBQVJkYkdSRmVOdHFGRngwUGpTb0E4aVJKVFRIdTRjbU5BUnphekc2TDJIelROcXBJU1d5ZmNWRTNtYXUKWnRGTHBlOUFyUGVCbGo0RGNrNHg4UDRnWWhVOG8yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXdIUVlEVlIwbApCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPCkJCWUVGTFZZZUtMZnlnaVJGTFlVQ0pZa0x0V2taa1lFTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDSUVTa0p3ZVgKZHBYWjN1RFBOQXorV0ZtaEdueGwwQmpYSnJYditzcmZpcGhnQWlFQXlaNnJsUFk1d1hvRHY2UVp1TVVrRTk5cApvRjdueURVZ2FGS0tVNit2ckZZPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSU9QL1MzSjlJNnpMZVdtOFZiNmFadlJGSVpYYi9TNXRGeCtqTU9MbEVrSDFvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFWFd4a1JYamJhaFJjZEQ0MHFBUElrU1UweDd1SEpqUUVjMnN4dWk5aDgwemFxU0Vsc24zRgpSTjVtcm1iUlM2WHZRS3ozZ1pZK0EzSk9NZkQrSUdJVlBBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  aggregatorCA:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJYekNDQVFXZ0F3SUJBZ0lRYUFSZU1zeXNlKy9vMEZmZEx6VGhqekFLQmdncWhrak9QUVFEQWpBQU1CNFgKRFRJME1Ea3lOREUzTWpVeE1sb1hEVE0wTURreU1qRTNNalV4TWxvd0FEQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxRwpTTTQ5QXdFSEEwSUFCUFh3NlZOdXQwcWJQQXlMQnhYVEZLSWcycEJyZGN2R2RNSS9Wd3htdi8vOG9aNXhMQ0ZICmJOcVF2WXl6cDJiWXRzYk5RbFZvUVIyS05IUnI5ejc4ejY2allUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWQKQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZApCZ05WSFE0RUZnUVUxSGtxWHJOdGp1eTF3L3FoQzBUbFVqR3JVYUl3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUlnCkVXWXJLU3lkZTcxSHlVaHhyKzJSZzRZR3ZKS2dFK1I3YjlwQXA4ZzJiYmtDSVFENHdhNnY3cnk1VjZodlM4dysKVGdENERMd0hlN3RRRFVrdmVNcWZWZ0wyVHc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUxpQldGdWk3WEgzY0RPK1lNK3pFeVlqR0dtRGZwWC83VHpkSmdXdmI4dmJvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFOWZEcFUyNjNTcHM4RElzSEZkTVVvaURha0d0MXk4WjB3ajlYREdhLy8veWhubkVzSVVkcwoycEM5akxPblp0aTJ4czFDVldoQkhZbzBkR3YzUHZ6UHJnPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  serviceAccount:
    key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS0FJQkFBS0NBZ0VBbmVOeUlxOXBCWWRnM2s1SkF0VEhkcEVaQU85L3NKQVV1NGo3d1dwak92ZHZ1T2Y5CmwwUi9OUC9EQ0tXQ0R1aWxZKyswT0R2QnB2UytscFFuWGZjVWhkdzZZQmx2S0lsZURMQnR4SWF5MXR6a2psT3IKVit4eWs4V3FaeDJLLytOeHB6Y1lMVXNjMHEralRiOGN3Yk9kb0oveC93T2xXeWdwdzJWcWtjYnZuRTg1UWIrQQpPVEVQWXoyWm4weThtVnJ6ZnJsZGYxNzhZaWxUbm9MT09PdVRFSjhPaTNjWThQaG9WUzBMTE42S2VEaUg3WGNZClg1SnE1bnhzR21kYTk3cTJiOEtLVjhNZ09aQ0R2aUlSVktGNFFkdGI3bXRHRCt6QXhabFpLTkRXM1pkdkpTaXEKWWMwQTVObUZkY1JORk1TaWVMdHlPODNoN1NJRWh0WGFDZ1hMUWhuTjBOaUk1d21NY3pLRzRRaUExUjBuOGw4NApXNFllenN5bmQ4d2ZuVGtzOEFDZ3BtbHdITEJLN2hKeDV5Nm9kcTlhdHU2WUU5UzBVUDE0LytGemxGNk82ZklNCkd0R21pbnIxNlJnK0hnSEtjcUVGdWlySi94WnpYS0dkSUQrQThzNDl4WTZHSEV3UnF6TzVTNjZ5YmkzNjFJTDUKdjJOcHhzVXJYeWVUbW4xRm1EYkVydTAydE9vUnhjOEdsbjRlWk5MQ2pQRHVBWFNTQ0I3SC96UmM1YXRtdk1YNQpzWG1ZZEVMV3Y0Mk1Fb3RlNnFlWlNldER2YTh6b0ZoQlRtTWRVaUw3eWdzYldhV3dFUko0aHd5cmRGVlNOaUhpClh0V1FzenJXM0hWTkRsUmZqMnNzR3VKR1hxTmUzeXJWblFPbHVLTFRUQm16ek1KSisvMStKWjV5SUlFQ0F3RUEKQVFLQ0FnRUFscU1OSHhpYUs0TTVJWUF4V25rbUFQSjRsNUxwRWN5MWF5Tkxod0o0d0NhWk9pSmtxVERaNlBmbgozVlVEWERRTXIrZGYyNUx2dE5tbkNNVTdOZ1JwV1RsL25IWkh2cllvdkJTTDljZkowd09YTUUrVmwySnBBcUhCCmJYWWJTdjUyVGVKYnQ4TUZNZUlPL1R0TU5XYW9DanJ2eUsxeTB5RGpqNkF2NS91VVdsNmZzeUlCTlErZ3JiOTAKMVM2Q2RoSDNaTDEzL2ZEaS9NaVBGaG1ZcFdma3ZTUHozWTM0aHRlSnUxSXBhbHE4WSswVGlyVm8xSzQrUGI4Ugo2TE1aY0dkOGJlNSt6VExHaVFWZkhFVW1vY2NZbEVTMFZpbVZBOWFQS1RlZ2dEZVgrSHpsdHQ4d2gvVHVXR2xNClVzckIvQUdMUFlNaGZ2dDBCU25DaGQ1OGs3bHBiUnpPQmtYQmk2SG02Zk1TeFVYeko0OUJxaHlFUEtFbnZJai8KK0hBY0lRdUpQMFhTaUp2elM3V0ExTC9HaGxzNDJpL1ZCalpuYnNZVzlINWM0YXVVa1hMdGEvTjhYZS9UaGtNdwplN1lneEhFMEQ2bjZqamJUUlFhNEdRaFFIOEk5SWR3RUJtNk9oRC9kWDJ1aUQyRnREbUdGV3lJV1JZbWFMTWltCjByU3NYY1g0UkhqdCtwSWJ3WXhHWUtBUXY5NUNXVWhlZ2JtQnQyaDhONlhrNzBITWlhWC9hRGtyNGUvelNTZGkKQ0NiRU1UOUpFWDJEVEtwUEJNZVFPZ0puYzJ5N3N3N0dycGU5a3VPc1JkbVVnN1pMU1NFakk4Qjhpd1c0RDFxNwo2TjQzZ3d0QjZqWngrRmlJTG1HUFFwREc0VCtNeS9YWG91aDBIcm9LRFdTQTlsT0x6eTBDZ2dFQkFNazZDSE9ICldqVkZhTUhET0JiSFV1MHNxU3pBK2VJcUJzNHpGVkJrK2xmcG8yOVI4dHpxbW5LaktMUXVVR0ZjSEdIaEQveXQKWDJiWFdURXh1c1hCb3hQVVRBZkZKZHQ0eTFKd29uaE1YOGR0YXNIQ2lEd3UyaXhUT2xNZldheXNqWjNpQjM0cgpMcVBSMmtLM1Z2cEVEU0llN2k0UXVkVXhnbjhocmRYMGtrTU9GTWdFdUdiRHh2NjBYVTVSazFvREhjZzlkdFljClNpVHBkYUcra2JOZUtCN2NCMnV0LzhvWWJnU0dJUVZTbndBaGtiOGxoRE9ndG1Fc0taeDZSa3dxUTNXRVg1TkUKNWdoeDZzV2JPSHhYNFJ0ZlROY29rM1lMSjcvd0J5Q1Y4UnozTWhGOXhvSGw1QitoeTFoMUFxTjhGb296NlpTZQpOcmR0djdCSjA0endOVHNDZ2dFQkFNamRmOFdnWm8zejUyZjh4dktxSU9jWVhKVWoxWHd4Qm1kRjU3clFrby9MCmIrbXVwTkRkN2QzaGdieTZwaFkxSExvSWF2UmQyclZFaFYzekdjR3V0RElkYjR0VXBYRlR3dU9wS0hzRlJDRkQKZ2dMVkR6Y3JrcW9neWtSRWNxMWJUTDdvWG9maThJTndpVThKc3JFSCtxT1lxM2FIeVFYWnJpQmxxTytYdmhtWQpCbUNxL28vU3lmMEF6UnZHU1Q0UUpyanVUc1hnNDc2NmM0QzVMUlVPUERuMkFVazdBV3ZmOElSRnRMbERnc1MxCmhhZlVhbnFmTGZuOXJpcTBaa0tqY3pCa2twNVcwK2ZMUVZHVmFUYkMxWWZjYWZpVS9VS2cybUtNVWRjT3hEWi8KdVhMVnpwbDVEWEQxdG1FRnpBWk5ZTG1lRzhSZmNmOEVQeWcySjg0L05YTUNnZ0VBTGloaXNlVjFXc3plRjd3cApESWlTVEJjM2d5Mk01RVVScEpEeExhek1CQWh5MWVFdFhXRnZKaWFvK3BPNUdtd2ZrcEFtczZZdFFSRGF3NzhOCmdibEdLQkZGazI2MG5XQmErMEVjODQxSlZ4eVJKWHJ5OXlNa0pwQzh5ejVndW93bU8vWVNFKzNoMS9BV0tjR1cKY1BmVkwyTjY3UlFuSEhFcjV1K1p5WDg5WWFaRVBCRmhIeWwvWndPR2Q2V2NzRVFRdTlMbGhIMmV3RkxSQ2RZRgo0K2dRT2V2c3c5VjQzQ200YXM4OW1kUDI1dmZNVDlWU091bDlqRkt1Qk5mRGNrc3JpRFJpSEF6czJ6a09TbCt0Cm1GQXNNYlF0a3hrYW9qUXkzUU01RDA5MXJGaERvdUYvL0dINGJ3MFU4T2grUDNRQ1U1ZE8yQ2xta2JMYUNwMFUKcXJxYTZ3S0NBUUJxUjJoM3RLc09xT0xqem9lbGxnYmF2N1VjNUZ6czNUTzZLTzYzbGV3MlVUbmh0eHBWdVZkRwpjeThtSU13SUxBb0xGTEVpb3hZNW13dkY3ZjdPMEJWZi90c3FLWnR3SHhXYlI4RzNkYzNhbTlHS2xoajY0Lzh5CkxTOVlkNjhGc3Ewa3hlWmVsK0VTYXRUOEVQR1BZZDFuK2p1ZTk3R1JldC83SEU4S2xvdHJGMWtvaE5FMFlCK24KMG1pMExYSkxlRmhFdVRMTTJIVW9VWmNUb09jTm9QNlUzR2xKeWdLeWhVYkpkZWh0cmg3ZTNmemVGREpTdHk2bwplMlZRQ3l1Z1RzTi84M2J3ZUppZXFKampCZDhwcm1VMUFaYkFoSFNNY0hlY2RRcEljL08xc2xiNVA4K1V2TXd6CjNJNm5QMTM0WjdDcUJkSkRVUTBNRmI4bEU2SjBLbFdwQW9JQkFEN052ckg2S0ZmNzNYaGJER21wMmgzN0xCSWMKaHhDV1JBdjJDYU9sVzVZS2RoYklPUUVMWmtTSFZuYVZpblVUdVNjd2NXd3oxREFXZnJsL3lhd01PaTFQZ3liLwpVMzF2RmNjLzYrN2t6bE9WSVVnK2dMZDN5ZkhSMXlpZnRjMGErZGFyQkZzdnV4QXRmdkVWUXVFR01WQjhsTlNpCnExVzZXT0NSdFc4Tk5RNm8zY2lEdlVXejRzQ1pid1lSbXpFUlRWdUJFQzZWVjEvdURWdDlQMWZ1VXl6S25YdFQKY3dyQjR4MlArNVVpNTFFSFNubjJiTWR4RCtaNFAwRzg3OVNOdGZ6ZEk1ckJibWJqd1RpYkl5emUwT1cwUXJ4QwpqZE8vdlBUVmFXaXpQVHFZTzFEU1JRZ3VVN3ozMEJVR3pQRWJ1ODNaTWJ6cFd4WnVNWFFjYk52Mk1OZz0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.32.2
    certSANs:
      - 192.168.10.30
      - 192.168.10.30
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.32.1
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:v1.32.1
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.32.1
    extraArgs:
      bind-address: 0.0.0.0
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: false
  etcd:
    ca:
      crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmakNDQVNTZ0F3SUJBZ0lSQU9UNUZTbDhxb2ViTDE4L0ZqazY2WWN3Q2dZSUtvWkl6ajBFQXdJd0R6RU4KTUFzR0ExVUVDaE1FWlhSalpEQWVGdzB5TkRBNU1qUXhOekkxTVRKYUZ3MHpOREE1TWpJeE56STFNVEphTUE4eApEVEFMQmdOVkJBb1RCR1YwWTJRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFRVlpYU3VESW9YClJjSFVQMmNXSndSanZkZjM2V2JSQVVmanFFT1I5V0J3N2VicTRGSTRjTFJVeFE0RHpQV3B0WWV5RllFRDhPQkUKK0E5NWQ3TTRxU2pUbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSApBd0VHQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRk1rdmFHMkViSmQ0CjNCS0p1YzFJbzdyRjlpbjVNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJUUNWVzhUYi9neU4rMnlReGVwd0FJNUQKbTNQSk42dm8wSXBXaDRNL3hEMFFCZ0lnQmFMcWhudmhvUGdNY0NGQlg3bDBTQkI3cVVzVElRdFlWaVc1ZEN1Ngp1d0k9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUx3NXhWUXc5eTR5M0N6bURKMVRJcUtSMmVIZjBlblAycTVQaC94U252b1VvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFRldWMHJneUtGMFhCMUQ5bkZpY0VZNzNYOStsbTBRRkg0NmhEa2ZWZ2NPM202dUJTT0hDMApWTVVPQTh6MXFiV0hzaFdCQS9EZ1JQZ1BlWGV6T0trbzB3PT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.10.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnMasters: true
